---
layout: default
title: Blog Posts - Erkan
permalink: /blog
---

<div class="blog-page">
    <div class="container">
        <div class="blog-header">
            <h1 class="blog-title">Blog Posts</h1>
            <p class="blog-description">
                This is where I learn in public by thinking and writing (term borrowed from Anne-Laure Le Cunff).
            </p>
        </div>

        <div class="blog-posts">
            {% for post in site.posts %}
            <a href="{{ post.url }}" class="post-card">
                <img class="post-thumbnail" src="{{post.image}}" alt="{{ post.title }}">
                <div class="post-content">
                    <div class="post-header">
                        <h2 class="post-title">{{ post.title }}</h2>
                        <div class="post-date">{{ post.publish_date }}</div>
                        <p class="post-description">{{post.description}}</p>
                    </div>
                    <div class="post-footer">
                        <div class="post-stats" data-post-url="{{ post.url }}">
                            <span class="stat-item comments-count" title="Comments">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span class="count">-</span>
                            </span>
                            <span class="stat-item reactions-count" title="Reactions">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                <span class="count">-</span>
                            </span>
                        </div>
                        <div class="read-more">
                            <span>Read more</span>
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</div>

<script>
// Load comment and reaction counts from static JSON file
(function() {
    async function loadDiscussionStats() {
        const postStats = document.querySelectorAll('.post-stats');

        try {
            // Fetch the static JSON file generated by GitHub Actions
            const response = await fetch('/assets/discussion-stats.json');

            if (!response.ok) {
                console.warn('Discussion stats file not found. Run the GitHub Action to generate it.');
                // Set all to 0 if file doesn't exist yet
                postStats.forEach(statElement => {
                    const commentsEl = statElement.querySelector('.comments-count .count');
                    const reactionsEl = statElement.querySelector('.reactions-count .count');
                    if (commentsEl) commentsEl.textContent = '0';
                    if (reactionsEl) reactionsEl.textContent = '0';
                });
                return;
            }

            const data = await response.json();
            const discussions = data.discussions;

            postStats.forEach(statElement => {
                const postUrl = statElement.dataset.postUrl;

                // Giscus creates discussion titles in format: "blog/post-slug/"
                // Post URL is like "/blog/post-slug/"
                const expectedTitle = postUrl.substring(1); // Remove leading slash

                // Match by title
                const discussion = discussions.find(d => d.title === expectedTitle);

                const commentsEl = statElement.querySelector('.comments-count .count');
                const reactionsEl = statElement.querySelector('.reactions-count .count');

                if (discussion) {
                    if (commentsEl) commentsEl.textContent = discussion.comments;
                    if (reactionsEl) reactionsEl.textContent = discussion.reactions;
                } else {
                    if (commentsEl) commentsEl.textContent = '0';
                    if (reactionsEl) reactionsEl.textContent = '0';
                }
            });
        } catch (error) {
            console.error('Error loading discussion stats:', error);
            // Keep the "-" placeholder on error
        }
    }

    // Load stats when page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadDiscussionStats);
    } else {
        loadDiscussionStats();
    }
})();
</script>

<footer class="footer">
    <div class="container">
        <p>
            Source code of this website is available at
            <a target="_blank" href="https://github.com/erkankarabulut/erkankarabulut.github.io">GitHub</a>
            and can be used by anyone.
        </p>
    </div>
</footer>
